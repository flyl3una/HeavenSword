{% load staticfiles %}
{% load static %}

<div class="show-content">
<!-- /.row -->
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default panel-task-list">
            <div class="panel-heading this-title">
                <div class="this-title">
                <h3>任务列表</h3>
                </div>
            </div>
            <!-- /.panel-heading -->
            <div class="panel-body">
                <table width="100%" class="table table-striped table-bordered table-hover" id="all_task_list">
                    <thead>
                        <tr>
                            <th>详细信息</th>
                            <th>任务目标</th>
                            <th>任务类型</th>
                            <th>创建时间</th>
                            <th>任务状态</th>
{#                            <th>查看详情</th>#}
                        </tr>
{#                        <tr>#}
{#                            <th>Rendering engine</th>#}
{#                            <th>Browser</th>#}
{#                            <th>Platform(s)</th>#}
{#                            <th>Engine version</th>#}
{#                            <th>CSS grade</th>#}
{#                        </tr>#}
                    </thead>
                    <tbody>
                        {% for task in tasks %}
                        <tr class="odd gradeX">
                            <td><a id="{{ task.id }}">查看详情</a></td>
                            <td>{{ task.target_url }}</td>
                            {% if task.type %}
                                <td>批量</td>
                            {% else %}
                                <td>单个</td>
                            {% endif %}
{#                            <td>{{ task.type }}</td>#}
                            <td>{{ task.update_date }}</td>
                            {% if task.status %}
                                <td>完成</td>
                            {% else %}
                                <td>进行中</td>
                            {% endif %}
{#                            <td>{{ task.status }}</td>#}
                        </tr>
                        {% endfor %}

{#                        <tr class="gradeX">#}
{#                            <td>Misc</td>#}
{#                            <td>Dillo 0.8</td>#}
{#                            <td>Embedded devices</td>#}
{#                            <td class="center">-</td>#}
{#                            <td class="center">X</td>#}
{#                        </tr>#}
{#                        <tr class="gradeX">#}
{#                            <td>Misc</td>#}
{#                            <td>Links</td>#}
{#                            <td>Text only</td>#}
{#                            <td class="center">-</td>#}
{#                            <td class="center">X</td>#}
{#                        </tr>#}
{#                        <tr class="gradeX">#}
{#                            <td>Misc</td>#}
{#                            <td>Lynx</td>#}
{#                            <td>Text only</td>#}
{#                            <td class="center">-</td>#}
{#                            <td class="center">X</td>#}
{#                        </tr>#}
{#                        <tr class="gradeC">#}
{#                            <td>Misc</td>#}
{#                            <td>IE Mobile</td>#}
{#                            <td>Windows Mobile 6</td>#}
{#                            <td class="center">-</td>#}
{#                            <td class="center">C</td>#}
{#                        </tr>#}
{#                        <tr class="gradeC">#}
{#                            <td>Misc</td>#}
{#                            <td>PSP browser</td>#}
{#                            <td>PSP</td>#}
{#                            <td class="center">-</td>#}
{#                            <td class="center">C</td>#}
{#                        </tr>#}
{#                        <tr class="gradeU">#}
{#                            <td>Other browsers</td>#}
{#                            <td>All others</td>#}
{#                            <td>-</td>#}
{#                            <td class="center">-</td>#}
{#                            <td class="center">U</td>#}
{#                        </tr>#}
                    </tbody>
                </table>
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>
</div>

<script>
    $(document).ready(function() {
        $('#all_task_list').DataTable({
            responsive: true
        });
    });
    // 表格
{#    $(".task-id").click(a_fun);#}
    $(".table>tbody>tr>td>a").click(function () {
        var a=$(this).attr('id');
        $.get('/web_task_info/'+a, function (result) {
            $("#content").html(result);
        });
    });
</script>